{"ast":null,"code":"import _classCallCheck from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport { remove } from \"./util.mjs\";\nvar defaultOptions = {\n  selector: \"img\"\n};\nvar LazyContainer = /*#__PURE__*/function () {\n  function LazyContainer(_ref) {\n    var el = _ref.el,\n      binding = _ref.binding,\n      vnode = _ref.vnode,\n      lazy = _ref.lazy;\n    _classCallCheck(this, LazyContainer);\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n    this.queue = [];\n    this.update({\n      el: el,\n      binding: binding\n    });\n  }\n  _createClass(LazyContainer, [{\n    key: \"update\",\n    value: function update(_ref2) {\n      var _this = this;\n      var el = _ref2.el,\n        binding = _ref2.binding;\n      this.el = el;\n      this.options = Object.assign({}, defaultOptions, binding.value);\n      var imgs = this.getImgs();\n      imgs.forEach(function (el2) {\n        _this.lazy.add(el2, Object.assign({}, _this.binding, {\n          value: {\n            src: \"dataset\" in el2 ? el2.dataset.src : el2.getAttribute(\"data-src\"),\n            error: (\"dataset\" in el2 ? el2.dataset.error : el2.getAttribute(\"data-error\")) || _this.options.error,\n            loading: (\"dataset\" in el2 ? el2.dataset.loading : el2.getAttribute(\"data-loading\")) || _this.options.loading\n          }\n        }), _this.vnode);\n      });\n    }\n  }, {\n    key: \"getImgs\",\n    value: function getImgs() {\n      return Array.from(this.el.querySelectorAll(this.options.selector));\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this2 = this;\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        return _this2.lazy.remove(el);\n      });\n      this.vnode = null;\n      this.binding = null;\n      this.lazy = null;\n    }\n  }]);\n  return LazyContainer;\n}();\nvar LazyContainerManager = /*#__PURE__*/function () {\n  function LazyContainerManager(_ref3) {\n    var lazy = _ref3.lazy;\n    _classCallCheck(this, LazyContainerManager);\n    this.lazy = lazy;\n    this.queue = [];\n  }\n  _createClass(LazyContainerManager, [{\n    key: \"bind\",\n    value: function bind(el, binding, vnode) {\n      var container = new LazyContainer({\n        el: el,\n        binding: binding,\n        vnode: vnode,\n        lazy: this.lazy\n      });\n      this.queue.push(container);\n    }\n  }, {\n    key: \"update\",\n    value: function update(el, binding, vnode) {\n      var container = this.queue.find(function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.update({\n        el: el,\n        binding: binding,\n        vnode: vnode\n      });\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(el) {\n      var container = this.queue.find(function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.clear();\n      remove(this.queue, container);\n    }\n  }]);\n  return LazyContainerManager;\n}();\nexport { LazyContainerManager as default };","map":{"version":3,"names":["remove","defaultOptions","selector","LazyContainer","_ref","el","binding","vnode","lazy","_classCallCheck","options","queue","update","_createClass","key","value","_ref2","_this","Object","assign","imgs","getImgs","forEach","el2","add","src","dataset","getAttribute","error","loading","Array","from","querySelectorAll","clear","_this2","LazyContainerManager","_ref3","bind","container","push","find","item","unbind","default"],"sources":["E:/vue3/pet-home-master/pet-client/node_modules/vant/es/lazyload/vue-lazyload/lazy-container.mjs"],"sourcesContent":["import { remove } from \"./util.mjs\";\nconst defaultOptions = {\n  selector: \"img\"\n};\nclass LazyContainer {\n  constructor({ el, binding, vnode, lazy }) {\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n    this.queue = [];\n    this.update({ el, binding });\n  }\n  update({ el, binding }) {\n    this.el = el;\n    this.options = Object.assign({}, defaultOptions, binding.value);\n    const imgs = this.getImgs();\n    imgs.forEach((el2) => {\n      this.lazy.add(\n        el2,\n        Object.assign({}, this.binding, {\n          value: {\n            src: \"dataset\" in el2 ? el2.dataset.src : el2.getAttribute(\"data-src\"),\n            error: (\"dataset\" in el2 ? el2.dataset.error : el2.getAttribute(\"data-error\")) || this.options.error,\n            loading: (\"dataset\" in el2 ? el2.dataset.loading : el2.getAttribute(\"data-loading\")) || this.options.loading\n          }\n        }),\n        this.vnode\n      );\n    });\n  }\n  getImgs() {\n    return Array.from(this.el.querySelectorAll(this.options.selector));\n  }\n  clear() {\n    const imgs = this.getImgs();\n    imgs.forEach((el) => this.lazy.remove(el));\n    this.vnode = null;\n    this.binding = null;\n    this.lazy = null;\n  }\n}\nclass LazyContainerManager {\n  constructor({ lazy }) {\n    this.lazy = lazy;\n    this.queue = [];\n  }\n  bind(el, binding, vnode) {\n    const container = new LazyContainer({\n      el,\n      binding,\n      vnode,\n      lazy: this.lazy\n    });\n    this.queue.push(container);\n  }\n  update(el, binding, vnode) {\n    const container = this.queue.find((item) => item.el === el);\n    if (!container)\n      return;\n    container.update({ el, binding, vnode });\n  }\n  unbind(el) {\n    const container = this.queue.find((item) => item.el === el);\n    if (!container)\n      return;\n    container.clear();\n    remove(this.queue, container);\n  }\n}\nexport {\n  LazyContainerManager as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}