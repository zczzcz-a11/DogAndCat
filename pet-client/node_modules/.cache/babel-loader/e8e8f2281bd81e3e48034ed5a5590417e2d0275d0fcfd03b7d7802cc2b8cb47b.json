{"ast":null,"code":"import _objectSpread from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { reactive, toRefs } from \"vue\";\nimport { toRelatedPage } from \"@/router/tool.js\";\nimport { useRouter } from \"vue-router\";\nimport { timeInterval } from \"@/utils/tool.js\";\nimport { userStore } from \"@/store/user.js\";\nexport default {\n  props: {\n    chatItem: {\n      type: Object,\n      \"default\": {}\n    }\n  },\n  setup: function setup(props) {\n    var uStore = userStore();\n    var router = useRouter();\n    var state = reactive({\n      queryInfo: {\n        listId: props.chatItem.id,\n        chatId: props.chatItem.userId,\n        chatName: props.chatItem.name,\n        chatImg: props.chatItem.img\n      },\n      timeout: null\n    });\n    var btnDelInfo = function btnDelInfo(id) {\n      uStore.setChatListSync(id);\n    };\n    return _objectSpread(_objectSpread({}, toRefs(state)), {}, {\n      router: router,\n      toRelatedPage: toRelatedPage,\n      timeInterval: timeInterval,\n      btnDelInfo: btnDelInfo\n    });\n  }\n};","map":{"version":3,"names":["reactive","toRefs","toRelatedPage","useRouter","timeInterval","userStore","props","chatItem","type","Object","setup","uStore","router","state","queryInfo","listId","id","chatId","userId","chatName","name","chatImg","img","timeout","btnDelInfo","setChatListSync","_objectSpread"],"sources":["E:\\vue3\\pet-home-master\\pet-client\\src\\views\\comment\\components\\ChatCard.vue"],"sourcesContent":["<template>\n  <van-swipe-cell>\n    <div\n      class=\"item_page\"\n      @click=\"toRelatedPage('chatPage', router, 500, queryInfo)\"\n    >\n      <div\n        class=\"user_img\"\n        :class=\"chatItem.islogin ? 'islogin_true' : 'islogin_false'\"\n      >\n        <van-image\n          width=\"1.5rem\"\n          height=\"1.5rem\"\n          fit=\"cover\"\n          :src=\"require('@/assets/imgs/user_photo/' + chatItem.img + '.png')\"\n        />\n      </div>\n      <div class=\"user_content\">\n        <div class=\"content\">\n          <div class=\"user_name\">\n            <span>{{ chatItem.name }}</span>\n          </div>\n          <div class=\"time\">\n            <span>{{ timeInterval(chatItem.time, 0) }}</span>\n          </div>\n        </div>\n        <div class=\"content\">\n          <div class=\"chat_content\">\n            <span>{{ chatItem.newMsg }}</span>\n          </div>\n          <div class=\"tip\" :class=\"chatItem.unreadNum !== 0 ? '' : 'opacity'\">\n            <span>{{ chatItem.unreadNum }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <template #right>\n      <div class=\"right_wrap\">\n        <div class=\"btn_del\" @click=\"btnDelInfo(chatItem.id)\">删除</div>\n      </div>\n    </template>\n  </van-swipe-cell>\n</template>\n\n<script>\nimport { reactive, toRefs } from \"vue\";\nimport { toRelatedPage } from \"@/router/tool.js\";\nimport { useRouter } from \"vue-router\";\nimport { timeInterval } from \"@/utils/tool.js\";\nimport { userStore } from \"@/store/user.js\";\n\nexport default {\n  props: {\n    chatItem: {\n      type: Object,\n      default: {},\n    },\n  },\n  setup(props) {\n    const uStore = userStore();\n    const router = useRouter();\n    const state = reactive({\n      queryInfo: {\n        listId: props.chatItem.id,\n        chatId: props.chatItem.userId,\n        chatName: props.chatItem.name,\n        chatImg: props.chatItem.img,\n      },\n\n      timeout: null,\n    });\n\n    const btnDelInfo = id => {\n      uStore.setChatListSync(id);\n    };\n\n    return {\n      ...toRefs(state),\n      router,\n      toRelatedPage,\n      timeInterval,\n      btnDelInfo\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.item_page {\n  width: 100%;\n  height: 1.5rem;\n  display: flex;\n  align-items: center;\n  .button-ripple();\n  .user_img {\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 50%;\n    overflow: hidden;\n    margin-right: 10px;\n  }\n  .islogin_true::after {\n    content: \"\";\n    width: 0.45rem;\n    height: 0.45rem;\n    border: 1px solid #fff;\n    background-color: #2ad08b;\n    border-radius: 50%;\n    position: absolute;\n    left: 1rem;\n    bottom: 0;\n  }\n  .islogin_false::after {\n    content: \"\";\n    width: 0.45rem;\n    height: 0.45rem;\n    border: 1px solid #fff;\n    background-color: #bcc6d1;\n    border-radius: 50%;\n    position: absolute;\n    left: 1rem;\n    bottom: 0;\n  }\n\n  .user_content {\n    flex: 1;\n    position: relative;\n    .content {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      .user_name {\n        color: @color-chat-title;\n        font-size: 0.42rem;\n        font-weight: 800;\n        margin-bottom: 0.2rem;\n        & > span {\n          .line-clamp1();\n        }\n      }\n      .time {\n        flex-shrink: 0;\n        color: @card-color;\n        font-size: 0.3rem;\n        margin-bottom: 0.2rem;\n      }\n\n      .chat_content {\n        color: @card-color;\n        font-size: 0.3rem;\n        line-height: 0.4rem;\n        & > span {\n          .line-clamp1();\n        }\n      }\n      .tip {\n        flex-shrink: 0;\n        width: 0.4rem;\n        height: 0.4rem;\n        border-radius: 50%;\n        margin-left: 0.2rem;\n        text-align: center;\n        font-size: 0.3rem;\n        line-height: 0.45rem;\n        color: #fff;\n        font-weight: lighter;\n        background-color: #ff3d3dd3;\n      }\n    }\n  }\n}\n.right_wrap{\n  width: 1.8rem;\n  height: 100%;\n  background-color: @btn-delete;\n  margin-left: 10px;\n  .btn_del{\n    width: 100%;\n    height: 100%;\n    font-size: .4rem;\n    color: #fff;\n    line-height: 1.5rem;\n    text-align: center;\n  }\n}\n.opacity {\n  opacity: 0;\n}\n</style>\n"],"mappings":";;AA8CA,SAASA,QAAQ,EAAEC,MAAK,QAAS,KAAK;AACtC,SAASC,aAAY,QAAS,kBAAkB;AAChD,SAASC,SAAQ,QAAS,YAAY;AACtC,SAASC,YAAW,QAAS,iBAAiB;AAC9C,SAASC,SAAQ,QAAS,iBAAiB;AAE3C,eAAe;EACbC,KAAK,EAAE;IACLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,MAAM;MACZ,WAAS,CAAC;IACZ;EACF,CAAC;EACDC,KAAK,WAAAA,MAACJ,KAAK,EAAE;IACX,IAAMK,MAAK,GAAIN,SAAS,EAAE;IAC1B,IAAMO,MAAK,GAAIT,SAAS,EAAE;IAC1B,IAAMU,KAAI,GAAIb,QAAQ,CAAC;MACrBc,SAAS,EAAE;QACTC,MAAM,EAAET,KAAK,CAACC,QAAQ,CAACS,EAAE;QACzBC,MAAM,EAAEX,KAAK,CAACC,QAAQ,CAACW,MAAM;QAC7BC,QAAQ,EAAEb,KAAK,CAACC,QAAQ,CAACa,IAAI;QAC7BC,OAAO,EAAEf,KAAK,CAACC,QAAQ,CAACe;MAC1B,CAAC;MAEDC,OAAO,EAAE;IACX,CAAC,CAAC;IAEF,IAAMC,UAAS,GAAI,SAAbA,UAASA,CAAIR,EAAC,EAAK;MACvBL,MAAM,CAACc,eAAe,CAACT,EAAE,CAAC;IAC5B,CAAC;IAED,OAAAU,aAAA,CAAAA,aAAA,KACKzB,MAAM,CAACY,KAAK,CAAC;MAChBD,MAAM,EAANA,MAAM;MACNV,aAAa,EAAbA,aAAa;MACbE,YAAY,EAAZA,YAAY;MACZoB,UAAS,EAATA;IAAS;EAEb;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}