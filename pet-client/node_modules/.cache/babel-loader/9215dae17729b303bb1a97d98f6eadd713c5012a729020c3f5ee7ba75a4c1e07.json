{"ast":null,"code":"import _defineProperty from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { watch, onMounted, onUnmounted, defineComponent } from \"vue\";\nimport { pick, isDef, unknownProp, numericProp, makeStringProp, makeNumberProp, createNamespace } from \"../utils/index.mjs\";\nimport { lockClick } from \"./lock-click.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nvar _createNamespace = createNamespace(\"toast\"),\n  _createNamespace2 = _slicedToArray(_createNamespace, 2),\n  name = _createNamespace2[0],\n  bem = _createNamespace2[1];\nvar popupInheritProps = [\"show\", \"overlay\", \"teleport\", \"transition\", \"overlayClass\", \"overlayStyle\", \"closeOnClickOverlay\"];\nvar toastProps = {\n  icon: String,\n  show: Boolean,\n  type: makeStringProp(\"text\"),\n  overlay: Boolean,\n  message: numericProp,\n  iconSize: numericProp,\n  duration: makeNumberProp(2e3),\n  position: makeStringProp(\"middle\"),\n  teleport: [String, Object],\n  className: unknownProp,\n  iconPrefix: String,\n  transition: makeStringProp(\"van-fade\"),\n  loadingType: String,\n  forbidClick: Boolean,\n  overlayClass: unknownProp,\n  overlayStyle: Object,\n  closeOnClick: Boolean,\n  closeOnClickOverlay: Boolean\n};\nvar stdin_default = defineComponent({\n  name: name,\n  props: toastProps,\n  emits: [\"update:show\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var timer;\n    var clickable = false;\n    var toggleClickable = function toggleClickable() {\n      var newValue = props.show && props.forbidClick;\n      if (clickable !== newValue) {\n        clickable = newValue;\n        lockClick(clickable);\n      }\n    };\n    var updateShow = function updateShow(show) {\n      return emit(\"update:show\", show);\n    };\n    var onClick = function onClick() {\n      if (props.closeOnClick) {\n        updateShow(false);\n      }\n    };\n    var clearTimer = function clearTimer() {\n      return clearTimeout(timer);\n    };\n    var renderIcon = function renderIcon() {\n      var icon = props.icon,\n        type = props.type,\n        iconSize = props.iconSize,\n        iconPrefix = props.iconPrefix,\n        loadingType = props.loadingType;\n      var hasIcon = icon || type === \"success\" || type === \"fail\";\n      if (hasIcon) {\n        return _createVNode(Icon, {\n          \"name\": icon || type,\n          \"size\": iconSize,\n          \"class\": bem(\"icon\"),\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      if (type === \"loading\") {\n        return _createVNode(Loading, {\n          \"class\": bem(\"loading\"),\n          \"size\": iconSize,\n          \"type\": loadingType\n        }, null);\n      }\n    };\n    var renderMessage = function renderMessage() {\n      var type = props.type,\n        message = props.message;\n      if (isDef(message) && message !== \"\") {\n        return type === \"html\" ? _createVNode(\"div\", {\n          \"key\": 0,\n          \"class\": bem(\"text\"),\n          \"innerHTML\": String(message)\n        }, null) : _createVNode(\"div\", {\n          \"class\": bem(\"text\")\n        }, [message]);\n      }\n    };\n    watch(function () {\n      return [props.show, props.forbidClick];\n    }, toggleClickable);\n    watch(function () {\n      return [props.show, props.type, props.message, props.duration];\n    }, function () {\n      clearTimer();\n      if (props.show && props.duration > 0) {\n        timer = setTimeout(function () {\n          updateShow(false);\n        }, props.duration);\n      }\n    });\n    onMounted(toggleClickable);\n    onUnmounted(toggleClickable);\n    return function () {\n      return _createVNode(Popup, _mergeProps({\n        \"class\": [bem([props.position, _defineProperty({}, props.type, !props.icon)]), props.className],\n        \"lockScroll\": false,\n        \"onClick\": onClick,\n        \"onClosed\": clearTimer,\n        \"onUpdate:show\": updateShow\n      }, pick(props, popupInheritProps)), {\n        \"default\": function _default() {\n          return [renderIcon(), renderMessage()];\n        }\n      });\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["mergeProps","_mergeProps","createVNode","_createVNode","watch","onMounted","onUnmounted","defineComponent","pick","isDef","unknownProp","numericProp","makeStringProp","makeNumberProp","createNamespace","lockClick","Icon","Popup","Loading","_createNamespace","_createNamespace2","_slicedToArray","name","bem","popupInheritProps","toastProps","icon","String","show","Boolean","type","overlay","message","iconSize","duration","position","teleport","Object","className","iconPrefix","transition","loadingType","forbidClick","overlayClass","overlayStyle","closeOnClick","closeOnClickOverlay","stdin_default","props","emits","setup","_ref","emit","timer","clickable","toggleClickable","newValue","updateShow","onClick","clearTimer","clearTimeout","renderIcon","hasIcon","renderMessage","setTimeout","_defineProperty","_default","default"],"sources":["E:/vue3/pet-home-master/pet-client/node_modules/vant/es/toast/Toast.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { watch, onMounted, onUnmounted, defineComponent } from \"vue\";\nimport { pick, isDef, unknownProp, numericProp, makeStringProp, makeNumberProp, createNamespace } from \"../utils/index.mjs\";\nimport { lockClick } from \"./lock-click.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nconst [name, bem] = createNamespace(\"toast\");\nconst popupInheritProps = [\"show\", \"overlay\", \"teleport\", \"transition\", \"overlayClass\", \"overlayStyle\", \"closeOnClickOverlay\"];\nconst toastProps = {\n  icon: String,\n  show: Boolean,\n  type: makeStringProp(\"text\"),\n  overlay: Boolean,\n  message: numericProp,\n  iconSize: numericProp,\n  duration: makeNumberProp(2e3),\n  position: makeStringProp(\"middle\"),\n  teleport: [String, Object],\n  className: unknownProp,\n  iconPrefix: String,\n  transition: makeStringProp(\"van-fade\"),\n  loadingType: String,\n  forbidClick: Boolean,\n  overlayClass: unknownProp,\n  overlayStyle: Object,\n  closeOnClick: Boolean,\n  closeOnClickOverlay: Boolean\n};\nvar stdin_default = defineComponent({\n  name,\n  props: toastProps,\n  emits: [\"update:show\"],\n  setup(props, {\n    emit\n  }) {\n    let timer;\n    let clickable = false;\n    const toggleClickable = () => {\n      const newValue = props.show && props.forbidClick;\n      if (clickable !== newValue) {\n        clickable = newValue;\n        lockClick(clickable);\n      }\n    };\n    const updateShow = (show) => emit(\"update:show\", show);\n    const onClick = () => {\n      if (props.closeOnClick) {\n        updateShow(false);\n      }\n    };\n    const clearTimer = () => clearTimeout(timer);\n    const renderIcon = () => {\n      const {\n        icon,\n        type,\n        iconSize,\n        iconPrefix,\n        loadingType\n      } = props;\n      const hasIcon = icon || type === \"success\" || type === \"fail\";\n      if (hasIcon) {\n        return _createVNode(Icon, {\n          \"name\": icon || type,\n          \"size\": iconSize,\n          \"class\": bem(\"icon\"),\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      if (type === \"loading\") {\n        return _createVNode(Loading, {\n          \"class\": bem(\"loading\"),\n          \"size\": iconSize,\n          \"type\": loadingType\n        }, null);\n      }\n    };\n    const renderMessage = () => {\n      const {\n        type,\n        message\n      } = props;\n      if (isDef(message) && message !== \"\") {\n        return type === \"html\" ? _createVNode(\"div\", {\n          \"key\": 0,\n          \"class\": bem(\"text\"),\n          \"innerHTML\": String(message)\n        }, null) : _createVNode(\"div\", {\n          \"class\": bem(\"text\")\n        }, [message]);\n      }\n    };\n    watch(() => [props.show, props.forbidClick], toggleClickable);\n    watch(() => [props.show, props.type, props.message, props.duration], () => {\n      clearTimer();\n      if (props.show && props.duration > 0) {\n        timer = setTimeout(() => {\n          updateShow(false);\n        }, props.duration);\n      }\n    });\n    onMounted(toggleClickable);\n    onUnmounted(toggleClickable);\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": [bem([props.position, {\n        [props.type]: !props.icon\n      }]), props.className],\n      \"lockScroll\": false,\n      \"onClick\": onClick,\n      \"onClosed\": clearTimer,\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritProps)), {\n      default: () => [renderIcon(), renderMessage()]\n    });\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}