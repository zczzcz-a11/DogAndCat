{"ast":null,"code":"import _defineProperty from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { ref, reactive, computed, defineComponent } from \"vue\";\nimport { extend, numericProp, BORDER_BOTTOM, getZIndexStyle, createNamespace } from \"../utils/index.mjs\";\nimport { INDEX_BAR_KEY } from \"../index-bar/IndexBar.mjs\";\nimport { getScrollTop, getRootScrollTop } from \"../utils/dom.mjs\";\nimport { useRect, useParent } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nvar _createNamespace = createNamespace(\"index-anchor\"),\n  _createNamespace2 = _slicedToArray(_createNamespace, 2),\n  name = _createNamespace2[0],\n  bem = _createNamespace2[1];\nvar indexAnchorProps = {\n  index: numericProp\n};\nvar stdin_default = defineComponent({\n  name: name,\n  props: indexAnchorProps,\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var state = reactive({\n      top: 0,\n      left: null,\n      rect: {\n        top: 0,\n        height: 0\n      },\n      width: null,\n      active: false\n    });\n    var root = ref();\n    var _useParent = useParent(INDEX_BAR_KEY),\n      parent = _useParent.parent;\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <IndexAnchor> must be a child component of <IndexBar>.\");\n      }\n      return;\n    }\n    var isSticky = function isSticky() {\n      return state.active && parent.props.sticky;\n    };\n    var anchorStyle = computed(function () {\n      var _parent$props = parent.props,\n        zIndex = _parent$props.zIndex,\n        highlightColor = _parent$props.highlightColor;\n      if (isSticky()) {\n        return extend(getZIndexStyle(zIndex), {\n          left: state.left ? \"\".concat(state.left, \"px\") : void 0,\n          width: state.width ? \"\".concat(state.width, \"px\") : void 0,\n          transform: state.top ? \"translate3d(0, \".concat(state.top, \"px, 0)\") : void 0,\n          color: highlightColor\n        });\n      }\n    });\n    var getRect = function getRect(scrollParent, scrollParentRect) {\n      var rootRect = useRect(root);\n      state.rect.height = rootRect.height;\n      if (scrollParent === window || scrollParent === document.body) {\n        state.rect.top = rootRect.top + getRootScrollTop();\n      } else {\n        state.rect.top = rootRect.top + getScrollTop(scrollParent) - scrollParentRect.top;\n      }\n      return state.rect;\n    };\n    useExpose({\n      state: state,\n      getRect: getRect\n    });\n    return function () {\n      var sticky = isSticky();\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"style\": {\n          height: sticky ? \"\".concat(state.rect.height, \"px\") : void 0\n        }\n      }, [_createVNode(\"div\", {\n        \"style\": anchorStyle.value,\n        \"class\": [bem({\n          sticky: sticky\n        }), _defineProperty({}, BORDER_BOTTOM, sticky)]\n      }, [slots[\"default\"] ? slots[\"default\"]() : props.index])]);\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","ref","reactive","computed","defineComponent","extend","numericProp","BORDER_BOTTOM","getZIndexStyle","createNamespace","INDEX_BAR_KEY","getScrollTop","getRootScrollTop","useRect","useParent","useExpose","_createNamespace","_createNamespace2","_slicedToArray","name","bem","indexAnchorProps","index","stdin_default","props","setup","_ref","slots","state","top","left","rect","height","width","active","root","_useParent","parent","process","env","NODE_ENV","console","error","isSticky","sticky","anchorStyle","_parent$props","zIndex","highlightColor","concat","transform","color","getRect","scrollParent","scrollParentRect","rootRect","window","document","body","value","_defineProperty","default"],"sources":["E:/vue3/pet-home-master/pet-client/node_modules/vant/es/index-anchor/IndexAnchor.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { ref, reactive, computed, defineComponent } from \"vue\";\nimport { extend, numericProp, BORDER_BOTTOM, getZIndexStyle, createNamespace } from \"../utils/index.mjs\";\nimport { INDEX_BAR_KEY } from \"../index-bar/IndexBar.mjs\";\nimport { getScrollTop, getRootScrollTop } from \"../utils/dom.mjs\";\nimport { useRect, useParent } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nconst [name, bem] = createNamespace(\"index-anchor\");\nconst indexAnchorProps = {\n  index: numericProp\n};\nvar stdin_default = defineComponent({\n  name,\n  props: indexAnchorProps,\n  setup(props, {\n    slots\n  }) {\n    const state = reactive({\n      top: 0,\n      left: null,\n      rect: {\n        top: 0,\n        height: 0\n      },\n      width: null,\n      active: false\n    });\n    const root = ref();\n    const {\n      parent\n    } = useParent(INDEX_BAR_KEY);\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <IndexAnchor> must be a child component of <IndexBar>.\");\n      }\n      return;\n    }\n    const isSticky = () => state.active && parent.props.sticky;\n    const anchorStyle = computed(() => {\n      const {\n        zIndex,\n        highlightColor\n      } = parent.props;\n      if (isSticky()) {\n        return extend(getZIndexStyle(zIndex), {\n          left: state.left ? `${state.left}px` : void 0,\n          width: state.width ? `${state.width}px` : void 0,\n          transform: state.top ? `translate3d(0, ${state.top}px, 0)` : void 0,\n          color: highlightColor\n        });\n      }\n    });\n    const getRect = (scrollParent, scrollParentRect) => {\n      const rootRect = useRect(root);\n      state.rect.height = rootRect.height;\n      if (scrollParent === window || scrollParent === document.body) {\n        state.rect.top = rootRect.top + getRootScrollTop();\n      } else {\n        state.rect.top = rootRect.top + getScrollTop(scrollParent) - scrollParentRect.top;\n      }\n      return state.rect;\n    };\n    useExpose({\n      state,\n      getRect\n    });\n    return () => {\n      const sticky = isSticky();\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"style\": {\n          height: sticky ? `${state.rect.height}px` : void 0\n        }\n      }, [_createVNode(\"div\", {\n        \"style\": anchorStyle.value,\n        \"class\": [bem({\n          sticky\n        }), {\n          [BORDER_BOTTOM]: sticky\n        }]\n      }, [slots.default ? slots.default() : props.index])]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}