{"ast":null,"code":"import _slicedToArray from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { ref, watch, computed, nextTick, onMounted, defineComponent } from \"vue\";\nimport { pick, clamp, extend, padZero, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { times, sharedProps, pickerInheritKeys, proxyPickerMethods } from \"./utils.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Picker } from \"../picker/index.mjs\";\nvar _createNamespace = createNamespace(\"time-picker\"),\n  _createNamespace2 = _slicedToArray(_createNamespace, 1),\n  name = _createNamespace2[0];\nvar stdin_default = defineComponent({\n  name: name,\n  props: extend({}, sharedProps, {\n    minHour: makeNumericProp(0),\n    maxHour: makeNumericProp(23),\n    minMinute: makeNumericProp(0),\n    maxMinute: makeNumericProp(59),\n    modelValue: String\n  }),\n  emits: [\"confirm\", \"cancel\", \"change\", \"update:modelValue\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n      slots = _ref.slots;\n    var formatValue = function formatValue(value) {\n      var minHour = props.minHour,\n        maxHour = props.maxHour,\n        maxMinute = props.maxMinute,\n        minMinute = props.minMinute;\n      if (!value) {\n        value = \"\".concat(padZero(minHour), \":\").concat(padZero(minMinute));\n      }\n      var _value$split = value.split(\":\"),\n        _value$split2 = _slicedToArray(_value$split, 2),\n        hour = _value$split2[0],\n        minute = _value$split2[1];\n      hour = padZero(clamp(+hour, +minHour, +maxHour));\n      minute = padZero(clamp(+minute, +minMinute, +maxMinute));\n      return \"\".concat(hour, \":\").concat(minute);\n    };\n    var picker = ref();\n    var currentDate = ref(formatValue(props.modelValue));\n    var ranges = computed(function () {\n      return [{\n        type: \"hour\",\n        range: [+props.minHour, +props.maxHour]\n      }, {\n        type: \"minute\",\n        range: [+props.minMinute, +props.maxMinute]\n      }];\n    });\n    var originColumns = computed(function () {\n      return ranges.value.map(function (_ref2) {\n        var type = _ref2.type,\n          rangeArr = _ref2.range;\n        var values = times(rangeArr[1] - rangeArr[0] + 1, function (index) {\n          return padZero(rangeArr[0] + index);\n        });\n        if (props.filter) {\n          values = props.filter(type, values);\n        }\n        return {\n          type: type,\n          values: values\n        };\n      });\n    });\n    var columns = computed(function () {\n      return originColumns.value.map(function (column) {\n        return {\n          values: column.values.map(function (value) {\n            return props.formatter(column.type, value);\n          })\n        };\n      });\n    });\n    var updateColumnValue = function updateColumnValue() {\n      var pair = currentDate.value.split(\":\");\n      var values = [props.formatter(\"hour\", pair[0]), props.formatter(\"minute\", pair[1])];\n      nextTick(function () {\n        var _a;\n        (_a = picker.value) == null ? void 0 : _a.setValues(values);\n      });\n    };\n    var updateInnerValue = function updateInnerValue() {\n      var _picker$value$getInde = picker.value.getIndexes(),\n        _picker$value$getInde2 = _slicedToArray(_picker$value$getInde, 2),\n        hourIndex = _picker$value$getInde2[0],\n        minuteIndex = _picker$value$getInde2[1];\n      var _originColumns$value = _slicedToArray(originColumns.value, 2),\n        hourColumn = _originColumns$value[0],\n        minuteColumn = _originColumns$value[1];\n      var hour = hourColumn.values[hourIndex] || hourColumn.values[0];\n      var minute = minuteColumn.values[minuteIndex] || minuteColumn.values[0];\n      currentDate.value = formatValue(\"\".concat(hour, \":\").concat(minute));\n      updateColumnValue();\n    };\n    var onConfirm = function onConfirm() {\n      return emit(\"confirm\", currentDate.value);\n    };\n    var onCancel = function onCancel() {\n      return emit(\"cancel\");\n    };\n    var onChange = function onChange() {\n      updateInnerValue();\n      nextTick(function () {\n        nextTick(function () {\n          return emit(\"change\", currentDate.value);\n        });\n      });\n    };\n    onMounted(function () {\n      updateColumnValue();\n      nextTick(updateInnerValue);\n    });\n    watch(columns, updateColumnValue);\n    watch(function () {\n      return [props.filter, props.maxHour, props.minMinute, props.maxMinute];\n    }, updateInnerValue);\n    watch(function () {\n      return props.minHour;\n    }, function () {\n      nextTick(updateInnerValue);\n    });\n    watch(currentDate, function (value) {\n      return emit(\"update:modelValue\", value);\n    });\n    watch(function () {\n      return props.modelValue;\n    }, function (value) {\n      value = formatValue(value);\n      if (value !== currentDate.value) {\n        currentDate.value = value;\n        updateColumnValue();\n      }\n    });\n    useExpose({\n      getPicker: function getPicker() {\n        return picker.value && proxyPickerMethods(picker.value, updateInnerValue);\n      }\n    });\n    return function () {\n      return _createVNode(Picker, _mergeProps({\n        \"ref\": picker,\n        \"columns\": columns.value,\n        \"onChange\": onChange,\n        \"onCancel\": onCancel,\n        \"onConfirm\": onConfirm\n      }, pick(props, pickerInheritKeys)), slots);\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","mergeProps","_mergeProps","ref","watch","computed","nextTick","onMounted","defineComponent","pick","clamp","extend","padZero","createNamespace","makeNumericProp","times","sharedProps","pickerInheritKeys","proxyPickerMethods","useExpose","Picker","_createNamespace","_createNamespace2","_slicedToArray","name","stdin_default","props","minHour","maxHour","minMinute","maxMinute","modelValue","String","emits","setup","_ref","emit","slots","formatValue","value","concat","_value$split","split","_value$split2","hour","minute","picker","currentDate","ranges","type","range","originColumns","map","_ref2","rangeArr","values","index","filter","columns","column","formatter","updateColumnValue","pair","_a","setValues","updateInnerValue","_picker$value$getInde","getIndexes","_picker$value$getInde2","hourIndex","minuteIndex","_originColumns$value","hourColumn","minuteColumn","onConfirm","onCancel","onChange","getPicker","default"],"sources":["E:/vue3/pet-home-master/pet-client/node_modules/vant/es/datetime-picker/TimePicker.mjs"],"sourcesContent":["import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { ref, watch, computed, nextTick, onMounted, defineComponent } from \"vue\";\nimport { pick, clamp, extend, padZero, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { times, sharedProps, pickerInheritKeys, proxyPickerMethods } from \"./utils.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Picker } from \"../picker/index.mjs\";\nconst [name] = createNamespace(\"time-picker\");\nvar stdin_default = defineComponent({\n  name,\n  props: extend({}, sharedProps, {\n    minHour: makeNumericProp(0),\n    maxHour: makeNumericProp(23),\n    minMinute: makeNumericProp(0),\n    maxMinute: makeNumericProp(59),\n    modelValue: String\n  }),\n  emits: [\"confirm\", \"cancel\", \"change\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const formatValue = (value) => {\n      const {\n        minHour,\n        maxHour,\n        maxMinute,\n        minMinute\n      } = props;\n      if (!value) {\n        value = `${padZero(minHour)}:${padZero(minMinute)}`;\n      }\n      let [hour, minute] = value.split(\":\");\n      hour = padZero(clamp(+hour, +minHour, +maxHour));\n      minute = padZero(clamp(+minute, +minMinute, +maxMinute));\n      return `${hour}:${minute}`;\n    };\n    const picker = ref();\n    const currentDate = ref(formatValue(props.modelValue));\n    const ranges = computed(() => [{\n      type: \"hour\",\n      range: [+props.minHour, +props.maxHour]\n    }, {\n      type: \"minute\",\n      range: [+props.minMinute, +props.maxMinute]\n    }]);\n    const originColumns = computed(() => ranges.value.map(({\n      type,\n      range: rangeArr\n    }) => {\n      let values = times(rangeArr[1] - rangeArr[0] + 1, (index) => padZero(rangeArr[0] + index));\n      if (props.filter) {\n        values = props.filter(type, values);\n      }\n      return {\n        type,\n        values\n      };\n    }));\n    const columns = computed(() => originColumns.value.map((column) => ({\n      values: column.values.map((value) => props.formatter(column.type, value))\n    })));\n    const updateColumnValue = () => {\n      const pair = currentDate.value.split(\":\");\n      const values = [props.formatter(\"hour\", pair[0]), props.formatter(\"minute\", pair[1])];\n      nextTick(() => {\n        var _a;\n        (_a = picker.value) == null ? void 0 : _a.setValues(values);\n      });\n    };\n    const updateInnerValue = () => {\n      const [hourIndex, minuteIndex] = picker.value.getIndexes();\n      const [hourColumn, minuteColumn] = originColumns.value;\n      const hour = hourColumn.values[hourIndex] || hourColumn.values[0];\n      const minute = minuteColumn.values[minuteIndex] || minuteColumn.values[0];\n      currentDate.value = formatValue(`${hour}:${minute}`);\n      updateColumnValue();\n    };\n    const onConfirm = () => emit(\"confirm\", currentDate.value);\n    const onCancel = () => emit(\"cancel\");\n    const onChange = () => {\n      updateInnerValue();\n      nextTick(() => {\n        nextTick(() => emit(\"change\", currentDate.value));\n      });\n    };\n    onMounted(() => {\n      updateColumnValue();\n      nextTick(updateInnerValue);\n    });\n    watch(columns, updateColumnValue);\n    watch(() => [props.filter, props.maxHour, props.minMinute, props.maxMinute], updateInnerValue);\n    watch(() => props.minHour, () => {\n      nextTick(updateInnerValue);\n    });\n    watch(currentDate, (value) => emit(\"update:modelValue\", value));\n    watch(() => props.modelValue, (value) => {\n      value = formatValue(value);\n      if (value !== currentDate.value) {\n        currentDate.value = value;\n        updateColumnValue();\n      }\n    });\n    useExpose({\n      getPicker: () => picker.value && proxyPickerMethods(picker.value, updateInnerValue)\n    });\n    return () => _createVNode(Picker, _mergeProps({\n      \"ref\": picker,\n      \"columns\": columns.value,\n      \"onChange\": onChange,\n      \"onCancel\": onCancel,\n      \"onConfirm\": onConfirm\n    }, pick(props, pickerInheritKeys)), slots);\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}