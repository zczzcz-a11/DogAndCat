{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, TransitionGroup as _TransitionGroup, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-7ef80078\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"page\"\n};\nvar _hoisted_2 = {\n  \"class\": \"header\"\n};\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", {\n    \"class\": \"title\"\n  }, \"聊天\", -1 /* HOISTED */);\n});\nvar _hoisted_4 = {\n  \"class\": \"content_wrap\"\n};\nvar _hoisted_5 = {\n  \"class\": \"load\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_van_icon = _resolveComponent(\"van-icon\");\n  var _component_ChatCardVue = _resolveComponent(\"ChatCardVue\");\n  var _component_van_empty = _resolveComponent(\"van-empty\");\n  var _component_van_loading = _resolveComponent(\"van-loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createVNode(_component_van_icon, {\n    name: \"search\"\n  })]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_TransitionGroup, {\n    name: \"list\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.chatLst, function (item) {\n        return _openBlock(), _createElementBlock(\"div\", {\n          \"class\": \"item\",\n          key: item\n        }, [_createVNode(_component_ChatCardVue, {\n          chatItem: item\n        }, null, 8 /* PROPS */, [\"chatItem\"])]);\n      }), 128 /* KEYED_FRAGMENT */))];\n    }),\n\n    _: 1 /* STABLE */\n  }), _withDirectives(_createVNode(_component_van_empty, {\n    \"class\": \"custom-image\",\n    image: require('@/assets/imgs/page/empty.png'),\n    description: \"没有信息汪\"\n  }, null, 8 /* PROPS */, [\"image\"]), [[_vShow, _ctx.chatLst.length === 0 && !_ctx.Load]]), _withDirectives(_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_van_loading, {\n    size: \"24px\",\n    vertical: \"\",\n    color: \"#f8b158\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createTextVNode(\"加载中...\")];\n    }),\n    _: 1 /* STABLE */\n  })], 512 /* NEED_PATCH */), [[_vShow, _ctx.Load]])])]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_van_icon","name","_hoisted_4","_TransitionGroup","_Fragment","_renderList","_ctx","chatLst","item","key","_component_ChatCardVue","chatItem","_component_van_empty","image","require","description","length","Load","_hoisted_5","_component_van_loading","size","vertical","color"],"sources":["E:\\vue3\\pet-home-master\\pet-client\\src\\views\\comment\\index.vue"],"sourcesContent":["<template>\n  <div class=\"page\">\n    <div class=\"header\">\n      <p class=\"title\">聊天</p>\n      <van-icon name=\"search\" />\n    </div>\n\n    <div class=\"content_wrap\">\n      <TransitionGroup name=\"list\">\n        <div class=\"item\" v-for=\"item in chatLst\" :key=\"item\">\n          <ChatCardVue :chatItem=\"item\" />\n        </div>\n      </TransitionGroup>\n\n      <van-empty\n        class=\"custom-image\"\n        :image=\"require('@/assets/imgs/page/empty.png')\"\n        description=\"没有信息汪\"\n        v-show=\"chatLst.length === 0 && !Load\"\n      />\n\n      <div class=\"load\" v-show=\"Load\">\n        <van-loading size=\"24px\" vertical color=\"#f8b158\">加载中...</van-loading>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from \"vue\";\nimport ChatCardVue from \"./components/ChatCard.vue\";\nimport { userStore } from \"@/store/user.js\";\n\nexport default {\n  setup(props) {\n    const uStore = userStore(); // 仓库的上下文对象\n    const state = reactive({\n      chatLst: [],\n      Load: true,\n    });\n\n    uStore.getChatListSync().then(res => {\n      if(res){\n        const arr = uStore.getChatList();\n        state.Load = false;\n        state.chatLst = arr.sort((a,b)=>{ return b.time-a.time});\n      }\n    });\n\n\n    return {\n      ...toRefs(state),\n    };\n  },\n  components: {\n    ChatCardVue,\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.page {\n  width: 100%;\n  height: calc(100% - 50px);\n  background-color: @primary;\n  .header {\n    width: 100%;\n    height: 10%;\n    display: flex;\n    padding: 20px;\n    box-sizing: border-box;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 0.5rem;\n    color: @color-text-header;\n  }\n  .content_wrap {\n    width: 100%;\n    height: 90%;\n    background-color: #fff;\n    border-radius: 32px 32px 0 0;\n    padding: 40px 20px;\n    box-sizing: border-box;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    position: relative;\n    border-top: 4px solid #683931;\n    .item {\n      width: 100%;\n      margin-bottom: 20px;\n      background-color: #fff;\n      // position: relative;\n      //   margin-right: .3rem;\n    }\n  }\n}\n:deep(.van-empty__image) {\n  opacity: 0.3;\n}\n\n.list-move, /* 对移动中的元素应用的过渡 */\n.list-leave-active {\n  transition: all 0.5s cubic-bezier(0.55, 0, 0.1, 1);\n}\n\n.list-leave-to {\n  opacity: 0;\n  transform: scaleY(0.01) translate(30px, 0);\n}\n\n/* 确保将离开的元素从布局流中删除\n  以便能够正确地计算移动的动画。 */\n.list-leave-active {\n  position: absolute;\n}\n\n.load {\n  width: 2rem;\n  height: 2rem;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: #8d9f5eda;\n  border-radius: 0.3rem;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  // color: ;\n}\n</style>\n"],"mappings":";;;;;EACO,SAAM;AAAM;;EACV,SAAM;AAAQ;;sBACjBA,mBAAA,CAAuB;IAApB,SAAM;EAAO,GAAC,IAAE;AAAA;;EAIhB,SAAM;AAAc;;EAclB,SAAM;AAAM;;;;;;uBApBrBC,mBAAA,CAwBM,OAxBNC,UAwBM,GAvBJF,mBAAA,CAGM,OAHNG,UAGM,GAFJC,UAAuB,EACvBC,YAAA,CAA0BC,mBAAA;IAAhBC,IAAI,EAAC;EAAQ,G,GAGzBP,mBAAA,CAiBM,OAjBNQ,UAiBM,GAhBJH,YAAA,CAIkBI,gBAAA;IAJDF,IAAI,EAAC;EAAM;wBACR;MAAA,OAAuB,E,kBAAzCN,mBAAA,CAEMS,SAAA,QAAAC,WAAA,CAF2BC,IAAA,CAAAC,OAAO,YAAfC,IAAI;6BAA7Bb,mBAAA,CAEM;UAFD,SAAM,MAAM;UAA0Bc,GAAG,EAAED;YAC9CT,YAAA,CAAgCW,sBAAA;UAAlBC,QAAQ,EAAEH;QAAI,sC;;;;;sBAIhCT,YAAA,CAKEa,oBAAA;IAJA,SAAM,cAAc;IACnBC,KAAK,EAAEC,OAAO;IACfC,WAAW,EAAC;gDACJT,IAAA,CAAAC,OAAO,CAACS,MAAM,WAAWV,IAAA,CAAAW,IAAI,E,mBAGvCvB,mBAAA,CAEM,OAFNwB,UAEM,GADJnB,YAAA,CAAsEoB,sBAAA;IAAzDC,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR,EAAQ;IAACC,KAAK,EAAC;;wBAAU;MAAA,OAAM,C,iBAAN,QAAM,E;;;wCADhChB,IAAA,CAAAW,IAAI,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}