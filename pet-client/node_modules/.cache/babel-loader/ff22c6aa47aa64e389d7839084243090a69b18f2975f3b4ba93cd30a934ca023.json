{"ast":null,"code":"import _objectSpread from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport { reactive, toRefs } from \"vue\";\nimport ChatCardVue from \"./components/ChatCard.vue\";\nimport { userStore } from \"@/store/user.js\";\nexport default {\n  setup: function setup(props) {\n    var uStore = userStore(); // 仓库的上下文对象\n    var state = reactive({\n      chatLst: [],\n      Load: true\n    });\n    uStore.getChatListSync().then(function (res) {\n      if (res) {\n        var arr = uStore.getChatList();\n        state.Load = false;\n        state.chatLst = arr.sort(function (a, b) {\n          return b.time - a.time;\n        });\n      }\n    });\n    return _objectSpread({}, toRefs(state));\n  },\n  components: {\n    ChatCardVue: ChatCardVue\n  }\n};","map":{"version":3,"names":["reactive","toRefs","ChatCardVue","userStore","setup","props","uStore","state","chatLst","Load","getChatListSync","then","res","arr","getChatList","sort","a","b","time","_objectSpread","components"],"sources":["E:\\vue3\\pet-home-master\\pet-client\\src\\views\\comment\\index.vue"],"sourcesContent":["<template>\n  <div class=\"page\">\n    <div class=\"header\">\n      <p class=\"title\">聊天</p>\n      <van-icon name=\"search\" />\n    </div>\n\n    <div class=\"content_wrap\">\n      <TransitionGroup name=\"list\">\n        <div class=\"item\" v-for=\"item in chatLst\" :key=\"item\">\n          <ChatCardVue :chatItem=\"item\" />\n        </div>\n      </TransitionGroup>\n\n      <van-empty\n        class=\"custom-image\"\n        :image=\"require('@/assets/imgs/page/empty.png')\"\n        description=\"没有信息汪\"\n        v-show=\"chatLst.length === 0 && !Load\"\n      />\n\n      <div class=\"load\" v-show=\"Load\">\n        <van-loading size=\"24px\" vertical color=\"#f8b158\">加载中...</van-loading>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from \"vue\";\nimport ChatCardVue from \"./components/ChatCard.vue\";\nimport { userStore } from \"@/store/user.js\";\n\nexport default {\n  setup(props) {\n    const uStore = userStore(); // 仓库的上下文对象\n    const state = reactive({\n      chatLst: [],\n      Load: true,\n    });\n\n    uStore.getChatListSync().then(res => {\n      if(res){\n        const arr = uStore.getChatList();\n        state.Load = false;\n        state.chatLst = arr.sort((a,b)=>{ return b.time-a.time});\n      }\n    });\n\n\n    return {\n      ...toRefs(state),\n    };\n  },\n  components: {\n    ChatCardVue,\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.page {\n  width: 100%;\n  height: calc(100% - 50px);\n  background-color: @primary;\n  .header {\n    width: 100%;\n    height: 10%;\n    display: flex;\n    padding: 20px;\n    box-sizing: border-box;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 0.5rem;\n    color: @color-text-header;\n  }\n  .content_wrap {\n    width: 100%;\n    height: 90%;\n    background-color: #fff;\n    border-radius: 32px 32px 0 0;\n    padding: 40px 20px;\n    box-sizing: border-box;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    position: relative;\n    border-top: 4px solid #683931;\n    .item {\n      width: 100%;\n      margin-bottom: 20px;\n      background-color: #fff;\n      // position: relative;\n      //   margin-right: .3rem;\n    }\n  }\n}\n:deep(.van-empty__image) {\n  opacity: 0.3;\n}\n\n.list-move, /* 对移动中的元素应用的过渡 */\n.list-leave-active {\n  transition: all 0.5s cubic-bezier(0.55, 0, 0.1, 1);\n}\n\n.list-leave-to {\n  opacity: 0;\n  transform: scaleY(0.01) translate(30px, 0);\n}\n\n/* 确保将离开的元素从布局流中删除\n  以便能够正确地计算移动的动画。 */\n.list-leave-active {\n  position: absolute;\n}\n\n.load {\n  width: 2rem;\n  height: 2rem;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: #8d9f5eda;\n  border-radius: 0.3rem;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  // color: ;\n}\n</style>\n"],"mappings":";;AA6BA,SAASA,QAAQ,EAAEC,MAAK,QAAS,KAAK;AACtC,OAAOC,WAAU,MAAO,2BAA2B;AACnD,SAASC,SAAQ,QAAS,iBAAiB;AAE3C,eAAe;EACbC,KAAK,WAAAA,MAACC,KAAK,EAAE;IACX,IAAMC,MAAK,GAAIH,SAAS,EAAE,EAAE;IAC5B,IAAMI,KAAI,GAAIP,QAAQ,CAAC;MACrBQ,OAAO,EAAE,EAAE;MACXC,IAAI,EAAE;IACR,CAAC,CAAC;IAEFH,MAAM,CAACI,eAAe,EAAE,CAACC,IAAI,CAAC,UAAAC,GAAE,EAAK;MACnC,IAAGA,GAAG,EAAC;QACL,IAAMC,GAAE,GAAIP,MAAM,CAACQ,WAAW,EAAE;QAChCP,KAAK,CAACE,IAAG,GAAI,KAAK;QAClBF,KAAK,CAACC,OAAM,GAAIK,GAAG,CAACE,IAAI,CAAC,UAACC,CAAC,EAACC,CAAC,EAAG;UAAE,OAAOA,CAAC,CAACC,IAAI,GAACF,CAAC,CAACE,IAAI;QAAA,CAAC,CAAC;MAC1D;IACF,CAAC,CAAC;IAGF,OAAAC,aAAA,KACKlB,MAAM,CAACM,KAAK,CAAC;EAEpB,CAAC;EACDa,UAAU,EAAE;IACVlB,WAAW,EAAXA;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}