{"ast":null,"code":"import _slicedToArray from \"E:/vue3/pet-home-master/pet-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { ref, watch, computed, nextTick, defineComponent } from \"vue\";\nimport { cellSharedProps } from \"../cell/Cell.mjs\";\nimport { pick, extend, truthProp, numericProp, createNamespace } from \"../utils/index.mjs\";\nimport { COLLAPSE_KEY } from \"../collapse/Collapse.mjs\";\nimport { raf, doubleRaf, useParent } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useLazyRender } from \"../composables/use-lazy-render.mjs\";\nimport { Cell } from \"../cell/index.mjs\";\nvar _createNamespace = createNamespace(\"collapse-item\"),\n  _createNamespace2 = _slicedToArray(_createNamespace, 2),\n  name = _createNamespace2[0],\n  bem = _createNamespace2[1];\nvar CELL_SLOTS = [\"icon\", \"title\", \"value\", \"label\", \"right-icon\"];\nvar collapseItemProps = extend({}, cellSharedProps, {\n  name: numericProp,\n  isLink: truthProp,\n  disabled: Boolean,\n  readonly: Boolean,\n  lazyRender: truthProp\n});\nvar stdin_default = defineComponent({\n  name: name,\n  props: collapseItemProps,\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var wrapperRef = ref();\n    var contentRef = ref();\n    var _useParent = useParent(COLLAPSE_KEY),\n      parent = _useParent.parent,\n      index = _useParent.index;\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <CollapseItem> must be a child component of <Collapse>.\");\n      }\n      return;\n    }\n    var name2 = computed(function () {\n      var _a;\n      return (_a = props.name) != null ? _a : index.value;\n    });\n    var expanded = computed(function () {\n      return parent.isExpanded(name2.value);\n    });\n    var show = ref(expanded.value);\n    var lazyRender = useLazyRender(function () {\n      return show.value || !props.lazyRender;\n    });\n    var onTransitionEnd = function onTransitionEnd() {\n      if (!expanded.value) {\n        show.value = false;\n      } else if (wrapperRef.value) {\n        wrapperRef.value.style.height = \"\";\n      }\n    };\n    watch(expanded, function (value, oldValue) {\n      if (oldValue === null) {\n        return;\n      }\n      if (value) {\n        show.value = true;\n      }\n      var tick = value ? nextTick : raf;\n      tick(function () {\n        if (!contentRef.value || !wrapperRef.value) {\n          return;\n        }\n        var offsetHeight = contentRef.value.offsetHeight;\n        if (offsetHeight) {\n          var contentHeight = \"\".concat(offsetHeight, \"px\");\n          wrapperRef.value.style.height = value ? \"0\" : contentHeight;\n          doubleRaf(function () {\n            if (wrapperRef.value) {\n              wrapperRef.value.style.height = value ? contentHeight : \"0\";\n            }\n          });\n        } else {\n          onTransitionEnd();\n        }\n      });\n    });\n    var toggle = function toggle() {\n      var newValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !expanded.value;\n      parent.toggle(name2.value, newValue);\n    };\n    var onClickTitle = function onClickTitle() {\n      if (!props.disabled && !props.readonly) {\n        toggle();\n      }\n    };\n    var renderTitle = function renderTitle() {\n      var border = props.border,\n        disabled = props.disabled,\n        readonly = props.readonly;\n      var attrs = pick(props, Object.keys(cellSharedProps));\n      if (readonly) {\n        attrs.isLink = false;\n      }\n      if (disabled || readonly) {\n        attrs.clickable = false;\n      }\n      return _createVNode(Cell, _mergeProps({\n        \"role\": \"button\",\n        \"class\": bem(\"title\", {\n          disabled: disabled,\n          expanded: expanded.value,\n          borderless: !border\n        }),\n        \"aria-expanded\": String(expanded.value),\n        \"onClick\": onClickTitle\n      }, attrs), pick(slots, CELL_SLOTS));\n    };\n    var renderContent = lazyRender(function () {\n      var _a;\n      return _withDirectives(_createVNode(\"div\", {\n        \"ref\": wrapperRef,\n        \"class\": bem(\"wrapper\"),\n        \"onTransitionend\": onTransitionEnd\n      }, [_createVNode(\"div\", {\n        \"ref\": contentRef,\n        \"class\": bem(\"content\")\n      }, [(_a = slots[\"default\"]) == null ? void 0 : _a.call(slots)])]), [[_vShow, show.value]]);\n    });\n    useExpose({\n      toggle: toggle,\n      expanded: expanded,\n      itemName: name2\n    });\n    return function () {\n      return _createVNode(\"div\", {\n        \"class\": [bem({\n          border: index.value && props.border\n        })]\n      }, [renderTitle(), renderContent()]);\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["withDirectives","_withDirectives","vShow","_vShow","createVNode","_createVNode","mergeProps","_mergeProps","ref","watch","computed","nextTick","defineComponent","cellSharedProps","pick","extend","truthProp","numericProp","createNamespace","COLLAPSE_KEY","raf","doubleRaf","useParent","useExpose","useLazyRender","Cell","_createNamespace","_createNamespace2","_slicedToArray","name","bem","CELL_SLOTS","collapseItemProps","isLink","disabled","Boolean","readonly","lazyRender","stdin_default","props","setup","_ref","slots","wrapperRef","contentRef","_useParent","parent","index","process","env","NODE_ENV","console","error","name2","_a","value","expanded","isExpanded","show","onTransitionEnd","style","height","oldValue","tick","offsetHeight","contentHeight","concat","toggle","newValue","arguments","length","undefined","onClickTitle","renderTitle","border","attrs","Object","keys","clickable","borderless","String","renderContent","call","itemName","default"],"sources":["E:/vue3/pet-home-master/pet-client/node_modules/vant/es/collapse-item/CollapseItem.mjs"],"sourcesContent":["import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { ref, watch, computed, nextTick, defineComponent } from \"vue\";\nimport { cellSharedProps } from \"../cell/Cell.mjs\";\nimport { pick, extend, truthProp, numericProp, createNamespace } from \"../utils/index.mjs\";\nimport { COLLAPSE_KEY } from \"../collapse/Collapse.mjs\";\nimport { raf, doubleRaf, useParent } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useLazyRender } from \"../composables/use-lazy-render.mjs\";\nimport { Cell } from \"../cell/index.mjs\";\nconst [name, bem] = createNamespace(\"collapse-item\");\nconst CELL_SLOTS = [\"icon\", \"title\", \"value\", \"label\", \"right-icon\"];\nconst collapseItemProps = extend({}, cellSharedProps, {\n  name: numericProp,\n  isLink: truthProp,\n  disabled: Boolean,\n  readonly: Boolean,\n  lazyRender: truthProp\n});\nvar stdin_default = defineComponent({\n  name,\n  props: collapseItemProps,\n  setup(props, {\n    slots\n  }) {\n    const wrapperRef = ref();\n    const contentRef = ref();\n    const {\n      parent,\n      index\n    } = useParent(COLLAPSE_KEY);\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <CollapseItem> must be a child component of <Collapse>.\");\n      }\n      return;\n    }\n    const name2 = computed(() => {\n      var _a;\n      return (_a = props.name) != null ? _a : index.value;\n    });\n    const expanded = computed(() => parent.isExpanded(name2.value));\n    const show = ref(expanded.value);\n    const lazyRender = useLazyRender(() => show.value || !props.lazyRender);\n    const onTransitionEnd = () => {\n      if (!expanded.value) {\n        show.value = false;\n      } else if (wrapperRef.value) {\n        wrapperRef.value.style.height = \"\";\n      }\n    };\n    watch(expanded, (value, oldValue) => {\n      if (oldValue === null) {\n        return;\n      }\n      if (value) {\n        show.value = true;\n      }\n      const tick = value ? nextTick : raf;\n      tick(() => {\n        if (!contentRef.value || !wrapperRef.value) {\n          return;\n        }\n        const {\n          offsetHeight\n        } = contentRef.value;\n        if (offsetHeight) {\n          const contentHeight = `${offsetHeight}px`;\n          wrapperRef.value.style.height = value ? \"0\" : contentHeight;\n          doubleRaf(() => {\n            if (wrapperRef.value) {\n              wrapperRef.value.style.height = value ? contentHeight : \"0\";\n            }\n          });\n        } else {\n          onTransitionEnd();\n        }\n      });\n    });\n    const toggle = (newValue = !expanded.value) => {\n      parent.toggle(name2.value, newValue);\n    };\n    const onClickTitle = () => {\n      if (!props.disabled && !props.readonly) {\n        toggle();\n      }\n    };\n    const renderTitle = () => {\n      const {\n        border,\n        disabled,\n        readonly\n      } = props;\n      const attrs = pick(props, Object.keys(cellSharedProps));\n      if (readonly) {\n        attrs.isLink = false;\n      }\n      if (disabled || readonly) {\n        attrs.clickable = false;\n      }\n      return _createVNode(Cell, _mergeProps({\n        \"role\": \"button\",\n        \"class\": bem(\"title\", {\n          disabled,\n          expanded: expanded.value,\n          borderless: !border\n        }),\n        \"aria-expanded\": String(expanded.value),\n        \"onClick\": onClickTitle\n      }, attrs), pick(slots, CELL_SLOTS));\n    };\n    const renderContent = lazyRender(() => {\n      var _a;\n      return _withDirectives(_createVNode(\"div\", {\n        \"ref\": wrapperRef,\n        \"class\": bem(\"wrapper\"),\n        \"onTransitionend\": onTransitionEnd\n      }, [_createVNode(\"div\", {\n        \"ref\": contentRef,\n        \"class\": bem(\"content\")\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)])]), [[_vShow, show.value]]);\n    });\n    useExpose({\n      toggle,\n      expanded,\n      itemName: name2\n    });\n    return () => _createVNode(\"div\", {\n      \"class\": [bem({\n        border: index.value && props.border\n      })]\n    }, [renderTitle(), renderContent()]);\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}