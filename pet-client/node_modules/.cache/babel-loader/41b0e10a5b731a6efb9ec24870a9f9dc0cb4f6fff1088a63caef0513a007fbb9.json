{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-4498f7b0\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"page\"\n};\nvar _hoisted_2 = {\n  \"class\": \"header\"\n};\nvar _hoisted_3 = {\n  \"class\": \"info_img\"\n};\nvar _hoisted_4 = {\n  \"class\": \"img_wrap\"\n};\nvar _hoisted_5 = {\n  \"class\": \"info_content\"\n};\nvar _hoisted_6 = {\n  \"class\": \"info_name\"\n};\nvar _hoisted_7 = {\n  \"class\": \"name\"\n};\nvar _hoisted_8 = {\n  \"class\": \"info_brief\"\n};\nvar _hoisted_9 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"span\", null, \"个人空间 >\", -1 /* HOISTED */);\n});\nvar _hoisted_10 = [_hoisted_9];\nvar _hoisted_11 = {\n  \"class\": \"content_wrap\"\n};\nvar _hoisted_12 = {\n  \"class\": \"main\"\n};\nvar _hoisted_13 = [\"onClick\"];\nvar _hoisted_14 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", null, \"退出\", -1 /* HOISTED */);\n});\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_van_image = _resolveComponent(\"van-image\");\n  var _component_van_icon = _resolveComponent(\"van-icon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_van_image, {\n    width: \"2rem\",\n    height: \"2rem\",\n    fit: \"cover\",\n    src: require('@/assets/imgs/user_photo/' + $setup.userInfo.img + '.png')\n  }, null, 8 /* PROPS */, [\"src\"])])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"span\", _hoisted_7, _toDisplayString($setup.userInfo.name), 1 /* TEXT */), _createVNode(_component_van_icon, {\n    name: \"vip-card-o\",\n    color: \"#f8b158\",\n    size: \".8rem\"\n  })]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"span\", null, _toDisplayString($setup.userInfo.sign), 1 /* TEXT */)])]), _createElementVNode(\"div\", {\n    \"class\": \"info_space\",\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return $setup.toRelatedPage('userSpace', $setup.router, 0, _ctx.queryInfo);\n    })\n  }, _hoisted_10)]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.pageInfo, function (item) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      \"class\": \"item\",\n      key: item,\n      onClick: function onClick($event) {\n        return $setup.toRelatedPage(item.url, $setup.router);\n      }\n    }, [_createVNode(_component_van_icon, {\n      name: item.name,\n      color: \"#8d9f5e\"\n    }, null, 8 /* PROPS */, [\"name\"]), _createElementVNode(\"p\", null, _toDisplayString(item.content), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_13);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", {\n    \"class\": \"item\",\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $setup.toExit && $setup.toExit.apply($setup, arguments);\n    })\n  }, [_createVNode(_component_van_icon, {\n    name: \"warning-o\",\n    color: \"#8d9f5e\"\n  }), _hoisted_14])])])]);\n}","map":{"version":3,"names":["_createElementVNode","_hoisted_9","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_van_image","width","height","fit","src","require","$setup","userInfo","img","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","name","_component_van_icon","color","size","_hoisted_8","sign","onClick","_cache","$event","toRelatedPage","router","_ctx","queryInfo","_hoisted_11","_hoisted_12","_Fragment","_renderList","pageInfo","item","key","url","content","toExit","apply","arguments","_hoisted_14"],"sources":["E:\\vue3\\pet-home-master\\pet-client\\src\\views\\user\\index.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <div class=\"page\">\n    <div class=\"header\">\n      <div class=\"info_img\">\n        <div class=\"img_wrap\">\n          <van-image\n            width=\"2rem\"\n            height=\"2rem\"\n            fit=\"cover\"\n            :src=\"require('@/assets/imgs/user_photo/' + userInfo.img + '.png')\"\n          />\n        </div>\n      </div>\n      <div class=\"info_content\">\n        <div class=\"info_name\">\n          <span class=\"name\">{{ userInfo.name }}</span>\n          <van-icon name=\"vip-card-o\" color=\"#f8b158\" size=\".8rem\" />\n        </div>\n        <div class=\"info_brief\">\n          <span>{{ userInfo.sign }}</span>\n        </div>\n      </div>\n      <div\n        class=\"info_space\"\n        @click=\"toRelatedPage('userSpace', router, 0, queryInfo)\"\n      >\n        <span>个人空间 ></span>\n      </div>\n    </div>\n\n    <div class=\"content_wrap\">\n      <div class=\"main\">\n        <div\n          class=\"item\"\n          v-for=\"item in pageInfo\"\n          :key=\"item\"\n          @click=\"toRelatedPage(item.url, router)\"\n        >\n          <van-icon :name=\"item.name\" color=\"#8d9f5e\" />\n          <p>{{ item.content }}</p>\n        </div>\n\n        <div class=\"item\" @click=\"toExit\">\n          <van-icon name=\"warning-o\" color=\"#8d9f5e\" />\n          <p>退出</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs, onMounted, computed } from \"vue\";\nimport { toRelatedPage } from \"@/router/tool.js\";\nimport { useRouter } from \"vue-router\";\nimport { userStore } from \"@/store/user.js\";\nimport { Dialog } from \"vant\";\n\nexport default {\n  beforeCreate() {\n    const uStore = userStore(); // 仓库的上下文对象\n    if (uStore.getUserName() === \"\") {\n      uStore.getUserInfoSync();\n    }\n  },\n  setup() {\n    const uStore = userStore(); // 仓库的上下文对象\n    const router = useRouter(); // 得到路由实例\n\n    const state = reactive({\n      // userInfo: {}\n      pageInfo: [\n        {\n          name: \"records\",\n          content: \"编辑信息\",\n          url: \"/updatauser\",\n        },\n        {\n          name: \"like-o\",\n          content: \"我的宠物\",\n          url: \"/mypet\",\n        },\n        {\n          name: \"add-o\",\n          content: \"添加宠物\",\n          url: \"/add\",\n        },\n        {\n          name: \"question-o\",\n          content: \"帮助\",\n          url: \"/\",\n        },\n      ],\n      queryInfo: {\n        userId: uStore.getUserId(),\n      },\n    });\n\n    onMounted(() => {\n      if (uStore.getPetInfo().length === 0) {\n        uStore.getPetInfoSync();\n      }\n    });\n\n    const toUserInfo = () => {\n      console.log(\"修改个人信息\");\n    };\n\n    const toUserPet = () => {\n      // console.log('我的宠物');\n      router.push(\"/mypet\");\n    };\n\n    const toAddPet = () => {\n      // console.log('添加宠物');\n      router.push(\"/add\");\n    };\n\n    const toHelp = () => {\n      console.log(\"帮助\");\n    };\n\n    const toExit = () => {\n      // console.log('退出');\n      Dialog.confirm({\n        message: \"确定要退出登录吗？\",\n      }).then(() => {\n        uStore.emptyState();\n        uStore.socketDisconnect();\n        router.push(\"/login\");\n      });\n    };\n\n    const userInfo = computed(() => {\n      let name = uStore.getUserName();\n      let img = uStore.getUserImg();\n      let sign = uStore.getUserSign();\n      if (img === \"\" || img === null) img = \"user_001\";\n      if (sign === \"\" || sign === null) sign = \"今日份营业汪 ! ! !\";\n      return { name, img, sign };\n    });\n\n    return {\n      ...toRefs(state),\n      toUserInfo,\n      toUserPet,\n      toAddPet,\n      toHelp,\n      toExit,\n      toRelatedPage,\n      router,\n      userInfo,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.page {\n  width: 100%;\n  height: 100%;\n  background-color: @primary;\n  display: flex;\n  flex-direction: column;\n  .header {\n    width: 100%;\n    // height: 25%;\n    padding: 20px;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: space-evenly;\n    color: @color-text-header;\n    .info_img {\n      // margin: 0 auto;\n      .img_wrap {\n        width: 2rem;\n        height: 2rem;\n        border: 2px solid #fff;\n        border-radius: 10px;\n        overflow: hidden;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        .img {\n          width: 110%;\n        }\n      }\n    }\n    .info_content {\n      flex: 1;\n      margin-left: 15px;\n      .info_name {\n        padding-bottom: 0.2rem;\n        display: flex;\n        align-items: center;\n        .name {\n          font-size: 0.5rem;\n          font-weight: 800;\n          margin-right: 0.3rem;\n          max-width: 3rem;\n          .line-clamp1();\n        }\n      }\n      .info_brief {\n        font-size: 0.2rem;\n        line-height: 0.4rem;\n        font-weight: lighter;\n        max-width: 4.5rem;\n        .line-clamp2();\n      }\n    }\n    .info_space {\n      display: flex;\n      align-items: center;\n      margin-left: 10px;\n      & > span {\n        font-size: 0.33rem;\n        font-weight: 600;\n      }\n    }\n  }\n  .content_wrap {\n    width: 100%;\n    flex: 1;\n    background-color: @primary-bg;\n    border-radius: 32px 32px 0 0;\n    border-top: 4px solid #683931;\n    padding: 40px 10px;\n    box-sizing: border-box;\n    .main {\n      width: 100%;\n      .item {\n        display: flex;\n        font-size: 0.7rem;\n        padding: 0.4rem 0.4rem;\n        box-sizing: border-box;\n        .button-ripple();\n        p {\n          color: #1e1e1e;\n          font-size: 0.5rem;\n          line-height: 0.7rem;\n          margin-left: 0.3rem;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"mappings":";;;;;;EAEO,SAAM;AAAM;;EACV,SAAM;AAAQ;;EACZ,SAAM;AAAU;;EACd,SAAM;AAAU;;EASlB,SAAM;AAAc;;EAClB,SAAM;AAAW;;EACd,SAAM;AAAM;;EAGf,SAAM;AAAY;;sBAQvBA,mBAAA,CAAmB,cAAb,QAAM;AAAA;mBAAZC,UAAmB,C;;EAIlB,SAAM;AAAc;;EAClB,SAAM;AAAM;;;sBAabD,mBAAA,CAAS,WAAN,IAAE;AAAA;;;;;uBA3CbE,mBAAA,CA+CM,OA/CNC,UA+CM,GA9CJH,mBAAA,CA0BM,OA1BNI,UA0BM,GAzBJJ,mBAAA,CASM,OATNK,UASM,GARJL,mBAAA,CAOM,OAPNM,UAOM,GANJC,YAAA,CAKEC,oBAAA;IAJAC,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,MAAM;IACbC,GAAG,EAAC,OAAO;IACVC,GAAG,EAAEC,OAAO,+BAA+BC,MAAA,CAAAC,QAAQ,CAACC,GAAG;wCAI9DhB,mBAAA,CAQM,OARNiB,UAQM,GAPJjB,mBAAA,CAGM,OAHNkB,UAGM,GAFJlB,mBAAA,CAA6C,QAA7CmB,UAA6C,EAAAC,gBAAA,CAAvBN,MAAA,CAAAC,QAAQ,CAACM,IAAI,kBACnCd,YAAA,CAA2De,mBAAA;IAAjDD,IAAI,EAAC,YAAY;IAACE,KAAK,EAAC,SAAS;IAACC,IAAI,EAAC;QAEnDxB,mBAAA,CAEM,OAFNyB,UAEM,GADJzB,mBAAA,CAAgC,cAAAoB,gBAAA,CAAvBN,MAAA,CAAAC,QAAQ,CAACW,IAAI,iB,KAG1B1B,mBAAA,CAKM;IAJJ,SAAM,YAAY;IACjB2B,OAAK,EAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAEf,MAAA,CAAAgB,aAAa,cAAchB,MAAA,CAAAiB,MAAM,KAAKC,IAAA,CAAAC,SAAS;IAAA;qBAM3DjC,mBAAA,CAiBM,OAjBNkC,WAiBM,GAhBJlC,mBAAA,CAeM,OAfNmC,WAeM,I,kBAdJjC,mBAAA,CAQMkC,SAAA,QAAAC,WAAA,CANWL,IAAA,CAAAM,QAAQ,YAAhBC,IAAI;yBAFbrC,mBAAA,CAQM;MAPJ,SAAM,MAAM;MAEXsC,GAAG,EAAED,IAAI;MACTZ,OAAK,WAAAA,QAAAE,MAAA;QAAA,OAAEf,MAAA,CAAAgB,aAAa,CAACS,IAAI,CAACE,GAAG,EAAE3B,MAAA,CAAAiB,MAAM;MAAA;QAEtCxB,YAAA,CAA8Ce,mBAAA;MAAnCD,IAAI,EAAEkB,IAAI,CAAClB,IAAI;MAAEE,KAAK,EAAC;uCAClCvB,mBAAA,CAAyB,WAAAoB,gBAAA,CAAnBmB,IAAI,CAACG,OAAO,iB;kCAGpB1C,mBAAA,CAGM;IAHD,SAAM,MAAM;IAAE2B,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEd,MAAA,CAAA6B,MAAA,IAAA7B,MAAA,CAAA6B,MAAA,CAAAC,KAAA,CAAA9B,MAAA,EAAA+B,SAAA,CAAM;IAAA;MAC9BtC,YAAA,CAA6Ce,mBAAA;IAAnCD,IAAI,EAAC,WAAW;IAACE,KAAK,EAAC;MACjCuB,WAAS,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}